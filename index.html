<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Private Access</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#000;
  --text:#fff;
  --accent:#ff9000;
}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:Arial, Helvetica, sans-serif;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  position:relative;
}

.screen{
  display:none;
  text-align:center;
  animation:fade .6s ease;
}
.active{display:block}

h1 span{color:var(--accent)}

input{
  width:260px;
  padding:12px;
  font-size:16px;
  text-align:center;
  border:none;
  border-radius:6px;
}

button{
  margin-top:15px;
  padding:12px 32px;
  font-size:16px;
  border:none;
  border-radius:25px;
  background:var(--accent);
  color:#000;
  font-weight:bold;
  cursor:pointer;
}

button:hover{transform:scale(1.05)}

.progress{
  display:flex;
  justify-content:center;
  gap:12px;
  margin-bottom:25px;
}
.step{
  width:60px;
  height:6px;
  background:#333;
  border-radius:5px;
}
.step.active{background:var(--accent)}

.shake{animation:shake .4s}

.whatsapp{
  background:#25D366;
  color:#fff;
  animation:pulse 1.5s infinite;
}

.timer{
  margin-bottom:15px;
  font-size:14px;
  color:#aaa;
}

/* Circular Timer Center */
.circular-timer {
  width: 60px;
  height: 60px;
  margin: 0 auto 20px;
  background: conic-gradient(var(--accent) 0deg, #333 0deg);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text);
  font-size: 16px;
  font-weight: bold;
}

/* Felicitations */
#congratsMsg {
  color: var(--accent);
  font-size: 32px;
  animation: pulseCongrats 1s infinite alternate;
}

@keyframes fade{from{opacity:0}to{opacity:1}}
@keyframes shake{
  0%{transform:translateX(0)}
  25%{transform:translateX(-6px)}
  50%{transform:translateX(6px)}
  75%{transform:translateX(-6px)}
  100%{transform:translateX(0)}
}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(37,211,102,.7)}
  70%{box-shadow:0 0 0 18px rgba(37,211,102,0)}
  100%{box-shadow:0 0 0 0 rgba(37,211,102,0)}
}
@keyframes pulseCongrats {
  0% { transform: scale(1); text-shadow: 0 0 5px var(--accent);}
  50% { transform: scale(1.2); text-shadow: 0 0 20px var(--accent);}
  100% { transform: scale(1); text-shadow: 0 0 5px var(--accent);}
}
</style>
</head>

<body>

<!-- WELCOME -->
<div id="welcome" class="screen active">
  <h1><span>WELCOME</span></h1>
</div>

<!-- NAME -->
<div id="name" class="screen">
  <div class="circular-timer" id="circularTimer">120</div>
  <h2>What is your first name?</h2>
  <input id="nameInput" placeholder="First name">
  <br>
  <button onclick="checkName()">Continue</button>
</div>

<!-- HELLO -->
<div id="hello" class="screen">
  <h1>Hello <span>Megan</span></h1>
</div>

<!-- MEET -->
<div id="meet" class="screen">
  <div class="circular-timer" id="circularTimer">120</div>
  <h2>Where did we meet?</h2>
  <input id="meetInput" placeholder="Your answer">
  <br>
  <button onclick="checkMeet()">Continue</button>
</div>

<!-- SMART -->
<div id="smart" class="screen">
  <h2>Letâ€™s see if youâ€™re really smart ðŸ˜Œ</h2>
</div>

<!-- QUESTION -->
<div id="question" class="screen">
  <div class="circular-timer" id="circularTimer">120</div>
  <div class="progress" id="progressBar">
    <div class="step"></div>
    <div class="step"></div>
    <div class="step"></div>
    <div class="step"></div>
    <div class="step"></div>
  </div>
  <p id="questionText"></p>
  <input id="answerInput" placeholder="Your answer">
  <br>
  <button id="submitBtn" onclick="checkAnswer()">Submit</button>
</div>

<!-- FELICITATIONS -->
<div id="congratsScreen" class="screen">
  <h1 id="congratsMsg">ðŸŽ‰ Congratulations! ðŸŽ‰</h1>
  <p>You completed the quiz!</p>
  <a href="https://wa.me/15618086978" target="_blank">
    <button class="whatsapp">WhatsApp</button>
  </a>
</div>

<!-- SESSION EXPIRED -->
<div id="expired" class="screen">
  <h1><span>Session Expired</span></h1>
  <p>Timeâ€™s up ðŸ˜Ž<br>Refresh to try again.</p>
</div>

<script>
/* ---------- SCREEN CONTROL ---------- */
const show = id => {
  document.querySelectorAll('.screen')
    .forEach(s => s.classList.remove('active'));
  const screen = document.getElementById(id);
  if(screen) screen.classList.add('active');
};

/* ---------- TIMER ---------- */
let timeLeft = 120;
let timer;
let finished = false;
const circular = document.querySelectorAll('.circular-timer');

function startTimer(){
  timer = setInterval(()=>{
    timeLeft--;
    if(circular){
      circular.forEach(c=>{
        let deg = ((120 - timeLeft)/120)*360;
        c.style.background = `conic-gradient(var(--accent) ${deg}deg, #333 ${deg}deg)`;
        c.innerText = timeLeft;
      });
    }
    if(timeLeft <= 0 && !finished){
      clearInterval(timer);
      show('expired');
    }
  },1000);
}

/* ---------- SOUND ---------- */
function playSound(){
  const ctx = new AudioContext();
  const osc = ctx.createOscillator();
  osc.frequency.value = 600;
  osc.connect(ctx.destination);
  osc.start();
  setTimeout(()=>osc.stop(),120);
}

/* ---------- FLOW ---------- */
setTimeout(()=>{
  show('name');
  startTimer();
},2000);

function deny(msg){ alert(msg); }

/* ---------- NAME ---------- */
function checkName(){
  if(nameInput.value.trim().toLowerCase()==="megan"){
    show('hello');
    setTimeout(()=>show('meet'),3000);
  } else deny("nice try ðŸ˜ I donâ€™t know you ðŸ˜‘");
}

/* ---------- MEET ---------- */
function checkMeet(){
  if(meetInput.value.trim().toLowerCase()==="publix"){
    show('smart');
    setTimeout(()=>show('question'),2000);
  } else deny("wait, who are you for real? ðŸ˜Ž");
}

/* ---------- QUESTIONS ---------- */
const questions = [
  {q:"I can be kept, but never seen. If Iâ€™m shared, I disappear.", a:"secret"},
  {q:"I have keys, but no locks. I have space, but no room.", a:"keyboard"},
  {q:"Iâ€™m tall when Iâ€™m young, and short when Iâ€™m old.", a:"candle"},
  {q:"Iâ€™m not alive, but I grow. I donâ€™t have lungs, but I need air.", a:"fire"},
  {q:"I go up and down, but never move.", a:"stairs"}
];

let index = 0;
const steps = document.querySelectorAll('.step');

function loadQuestion(){
  const q = document.getElementById('questionText');
  if(q) q.innerHTML = `<strong>${questions[index].q}</strong>`;
  answerInput.value = "";
}

/* ---------- ANSWER ---------- */
function checkAnswer(){
  const val = answerInput.value.trim().toLowerCase();
  if(val === questions[index].a){
    if(steps[index]) steps[index].classList.add('active');
    playSound();
    index++;
    if(index === questions.length){
      finished = true;
      clearInterval(timer);
      show('congratsScreen'); // Felisitasyon screen
    } else {
      loadQuestion();
    }
  } else {
    submitBtn.classList.add('shake');
    answerInput.value="";
    setTimeout(()=>submitBtn.classList.remove('shake'),400);
  }
}

/* ---------- INIT ---------- */
loadQuestion();
</script>

</body>
</html>
